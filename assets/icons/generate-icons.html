<!DOCTYPE html>
<html>
<head>
  <title>Generate Extension Icons</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    h1 {
      color: #333;
    }
    .icon-preview {
      display: flex;
      gap: 20px;
      margin: 20px 0;
    }
    canvas {
      border: 1px solid #ccc;
      background: #f0f0f0;
    }
    button {
      background: #4CAF50;
      color: white;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 4px;
      margin: 5px;
    }
    button:hover {
      background: #45a049;
    }
    .instructions {
      background: #f9f9f9;
      padding: 15px;
      border-left: 4px solid #4CAF50;
      margin: 20px 0;
    }
  </style>
</head>
<body>
  <h1>TopstepX SL/TP Extension - Icon Generator</h1>

  <div class="instructions">
    <h3>Instructions:</h3>
    <ol>
      <li>Click each "Download" button below</li>
      <li>Save the files as: <code>icon16.png</code>, <code>icon48.png</code>, and <code>icon128.png</code></li>
      <li>Place them in the <code>assets/icons/</code> directory</li>
    </ol>
  </div>

  <h2>Icon Previews:</h2>
  <div class="icon-preview">
    <div>
      <h3>16x16</h3>
      <canvas id="icon16" width="16" height="16"></canvas>
      <br>
      <button onclick="downloadIcon('icon16', 16)">Download icon16.png</button>
    </div>
    <div>
      <h3>48x48</h3>
      <canvas id="icon48" width="48" height="48"></canvas>
      <br>
      <button onclick="downloadIcon('icon48', 48)">Download icon48.png</button>
    </div>
    <div>
      <h3>128x128</h3>
      <canvas id="icon128" width="128" height="128"></canvas>
      <br>
      <button onclick="downloadIcon('icon128', 128)">Download icon128.png</button>
    </div>
  </div>

  <script>
    // Draw icon on canvas
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const scale = size / 128; // Scale based on 128x128 reference

      // Clear canvas
      ctx.clearRect(0, 0, size, size);

      // Background
      ctx.fillStyle = '#1E1E1E';
      ctx.beginPath();
      ctx.roundRect(0, 0, size, size, 20 * scale);
      ctx.fill();

      // Chart candlesticks (simplified)
      ctx.fillStyle = '#666666';
      const bars = [
        { x: 20, y: 70, w: 8, h: 25 },
        { x: 40, y: 50, w: 8, h: 45 },
        { x: 60, y: 60, w: 8, h: 35 },
        { x: 80, y: 40, w: 8, h: 55 },
        { x: 100, y: 55, w: 8, h: 40 }
      ];

      bars.forEach(bar => {
        ctx.fillRect(
          bar.x * scale,
          bar.y * scale,
          bar.w * scale,
          bar.h * scale
        );
      });

      // Helper function for dashed line
      function drawDashedLine(x1, y1, x2, y2, color, width) {
        ctx.strokeStyle = color;
        ctx.lineWidth = width * scale;
        ctx.setLineDash([5 * scale, 3 * scale]);
        ctx.beginPath();
        ctx.moveTo(x1 * scale, y1 * scale);
        ctx.lineTo(x2 * scale, y2 * scale);
        ctx.stroke();
        ctx.setLineDash([]);
      }

      // Stop Loss line (red)
      drawDashedLine(10, 100, 118, 100, '#FF3B30', 3);
      ctx.fillStyle = '#FF3B30';
      ctx.beginPath();
      ctx.arc(10 * scale, 100 * scale, 4 * scale, 0, Math.PI * 2);
      ctx.fill();

      // Take Profit line (green)
      drawDashedLine(10, 30, 118, 30, '#34C759', 3);
      ctx.fillStyle = '#34C759';
      ctx.beginPath();
      ctx.arc(10 * scale, 30 * scale, 4 * scale, 0, Math.PI * 2);
      ctx.fill();

      // Entry line (white)
      ctx.strokeStyle = '#FFFFFF';
      ctx.lineWidth = 2 * scale;
      ctx.globalAlpha = 0.6;
      ctx.beginPath();
      ctx.moveTo(10 * scale, 65 * scale);
      ctx.lineTo(118 * scale, 65 * scale);
      ctx.stroke();
      ctx.globalAlpha = 1.0;

      ctx.fillStyle = '#FFFFFF';
      ctx.beginPath();
      ctx.arc(10 * scale, 65 * scale, 3 * scale, 0, Math.PI * 2);
      ctx.fill();

      // Add text labels for larger sizes
      if (size >= 48) {
        ctx.font = `bold ${12 * scale}px Arial`;

        // SL label
        ctx.fillStyle = '#FF3B30';
        ctx.fillText('SL', 14 * scale, 102 * scale);

        // TP label
        ctx.fillStyle = '#34C759';
        ctx.fillText('TP', 14 * scale, 32 * scale);
      }
    }

    // Download icon
    function downloadIcon(canvasId, size) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = `icon${size}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Generate all icons on page load
    window.onload = function() {
      drawIcon(document.getElementById('icon16'), 16);
      drawIcon(document.getElementById('icon48'), 48);
      drawIcon(document.getElementById('icon128'), 128);
    };
  </script>
</body>
</html>
